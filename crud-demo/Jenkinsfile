#!groovy

env.PATH_PROJECT='crud-demo/'

node {
	deleteDir()
	
	stage('Descargar fuentes') {
		checkout scm
	}
	
        stage('Pruebas unitarias') {
                script {
                    sh "cd ${PATH_PROJECT} && ./mvnw -f pom.xml test"
            	}
        }

       stage('Compilar aplicaci√≥n') {
                script {
                    sh "cd ${PATH_PROJECT} && ./mvnw -f pom.xml install -DskipTests"
		    echo $(ls -ltR)
                }
        }
}
